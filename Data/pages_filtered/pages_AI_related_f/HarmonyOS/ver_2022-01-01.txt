HarmonyOS () is a distributed operating system developed by Huawei to run on multiple devices. In a multi-kernel design, the operating system selects suitable kernels from the abstraction layer for devices with diverse resources. For IoT devices, the system is known to be based on LiteOS; while for smartphones and tablets, it is based on a Linux kernel and has used the open-source Android code to support running Android apps, in addition to HarmonyOS apps.

The system includes a communication base DSoftBus for integrating physically separate devices into a virtual Super Device, allowing one device to control others and sharing data among devices with distributed communication capabilities. It supports several forms of apps, including the apps that can be installed from AppGallery on smartphones and tablets, installation-free Quick apps and lightweight Atomic Services accessible by users. 

HarmonyOS was first used in Honor smart TVs in August 2019 and later used in Huawei smartphones, tablets and smartwatches in June 2021.

 History 

 Origins 
Reports surrounding an in-house operating system being developed by Huawei date back as far as 2012. These reports intensified during the Sino-American trade war, after the United States Department of Commerce added Huawei to its Entity List in May 2019 under an indictment that it knowingly exported goods, technology and services of U.S. origin to Iran in violation of sanctions. This prohibited U.S.-based companies from doing business with Huawei without first obtaining a license from the government. Huawei executive Richard Yu described an in-house platform as a "plan B" in case it is prevented from using Android on future smartphone products due to the sanctions.

Prior to its unveiling, it was originally speculated to be a mobile operating system that could replace Android on future Huawei devices. In June 2019, an Huawei executive told Reuters that the OS was under testing in China, and could be ready "in months", but by July 2019, some Huawei executives described the OS as being an embedded operating system designed for IoT hardware, discarding the previous statements for it to be a mobile operating system.

Some media outlets reported that this OS, referred to as "Hongmeng", could be released in China in either August or September 2019, with a worldwide release in the second quarter of 2020. On 24 May 2019, Huawei registered "Hongmeng" as a trademark in China. The name "Hongmeng" () came from Chinese mythology that symbolizes primordial chaos or the world before creation. The same day, Huawei registered trademarks surrounding "Ark OS" and variants with the European Union Intellectual Property Office. In July 2019, it was reported that Huawei had also registered trademarks surrounding the word "Harmony" for desktop and mobile operating system software, indicating either a different name or a component of the OS.

 Release 
On 9 August 2019, Huawei officially unveiled HarmonyOS at its inaugural developers' conference in Dongguan. Huawei described HarmonyOS as a free, microkernel-based distributed operating system for various types of hardware. The company focused primarily on IoT devices, including smart TVs, wearable devices, and in-car entertainment systems, and did not explicitly position HarmonyOS as a mobile OS.

HarmonyOS 2.0 launched at the Huawei Developer Conference on 10 September 2020. Huawei announced it intended to ship the operating system on its smartphones in 2021. The first developer beta of HarmonyOS 2.0 was launched on 16 December 2020.  Huawei also released the DevEco Studio IDE, which is based on IntelliJ IDEA, and a cloud emulator for developers in early access.  

Huawei officially released HarmonyOS 2.0 and launched new devices shipping with the OS in June 2021, and started rolling out system upgrades to Huawei's older phones for users gradually.

 HarmonyOS apps 
In contrast to Android apps being packaged into APK file format, HarmonyOS apps are released as an App Pack suffixed with .app for distribution at Huawei's AppGallery. Each App Pack contains one or more HarmonyOS Ability Package (HAP) files and a pack.info file.

The AppGallery allows users to download and install Android apps that are compatible with HarmonyOS, and apps that are specifically designed for HarmonyOS in an APP pack. For general differentiation, some HarmonyOS apps are marked with an "HMOS" subscript on the app icon, and an underline beneath the app icon to signify the features of service cards available in HarmonyOS. Apps that are developed using specific HarmonyOS features will not be supported on devices running Android.

Both HarmonyOS apps and Android apps are allowed to utilize Huawei Mobile Services as an option. However, the distributed communication technology provided in HarmonyOS system is made available for HarmonyOS apps, but not Android apps, based on the design of the operating system. 

As of June 2021, there were reportedly around 500,000 developers participated in developing HarmonyOS apps.

 Devices 
The Huawei P30 is one of several Huawei devices to run HarmonyOS.
Huawei stated that HarmonyOS would initially be used on devices targeting the Chinese market. The company's former subsidiary brand, Honor, unveiled the Honor Vision line of smart TVs as the first consumer electronics devices to run HarmonyOS. The HarmonyOS 2.0 beta launched on 16 December 2020 supports the P30 series, P40 series, Mate 30 series, Mate 40 series, P50 series and MatePad Pro. HarmonyOS 2.0 was released as updates for the P40 and Mate X2 in June 2021. New Huawei Watch, MatePad Pro and PixLab X1 desktop printer models shipping with HarmonyOS were also unveiled. As of October, 2021, HarmonyOS 2.0 has over 150 million users.

 Relationship with OpenHarmony, Android and LiteOS 
OpenHarmony is an open-source version of HarmonyOS donated by Huawei to the OpenAtom Foundation. It supports devices running a mini system with memory as small as 128 KB, or running a standard system with memory greater than 128 MB. The open-source operating system contains the basic capabilities of HarmonyOS and does not depend on the Android Open Source Project (AOSP).

Conversely, HarmonyOS runs on Huawei's proprietary architecture and has used the AOSP code and a Linux kernel in smartphones to enable the operating system to run Android apps, in addition to HarmonyOS apps, on devices launching Huawei Mobile Services.

 Legal issues 
In May 2019, Huawei applied for registration of the trademark "Hongmeng" through the Chinese Patent Office CNIPA, but the application was rejected in pursuance to Article 30 of the PRC Trade Mark Law, citing the trademark was similar to that of "CRM Hongmeng" in graphic design and "Hongmeng" in Chinese word.

In less than a week before launching HarmonyOS 2.0 and new devices by Huawei, the Beijing Intellectual Property Court announced the first-instance judgement in May 2021 to uphold the decision by CNIPA as the trademark was not sufficiently distinctive in terms of its designated services.

However, it was reported that the trademark had officially been transferred from Huizhou Qibei Technology to Huawei by end of May 2021.

 Criticism 
In depth analysis of Huawei's developer tools by Ars Technica, HarmonyOS running on smartphones was criticised as a rebranded version of Android and EMUI with nearly identical code bases. Following the release of the HarmonyOS 2.0 beta,  Ars Technica and XDA Developers speculated that the smartphone version of the OS had been forked from Android 10. Ars Technica found that it resembled the existing EMUI software used on Huawei devices, but with all references to "Android" replaced by "HarmonyOS". It was also noted that the DevEco Studio software shared components and toolchains with Android Studio. However, the article was refuted by a famous China IT blogger shortly, pointing out most of the criticisms mentioned in the article were wrong. 

When testing the new MatePad Pro in June 2021, Android Authority and The Verge similarly observed similarities in behavior, including that it was possible to install apps from Android APK files on the HarmonyOS-based tablet, and that it included the Android 10 easter eggâ€”affirming the earlier reports.

Initially, Huawei stated that HarmonyOS was a microkernel-based, distributed OS that was completely different from Android and iOS. A Huawei spokesperson subsequently stated that HarmonyOS supports multiple kernels and uses a Linux kernel if a device has a large amount of RAM, and that the company had taken advantage of a large number of third-party open-source resources, including Linux, to accelerate the development of a comprehensive architecture.