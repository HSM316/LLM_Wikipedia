{{Short description|Analysis of compression artifacts in digital data with lossy compression}}
{{refimprove|date=July 2018}}
'''Error level analysis''' ('''ELA''') is the analysis of [[compression artifacts]] in digital data with [[lossy compression]] such as [[JPEG]].

== Principles ==
When used, lossy compression is normally applied uniformly to a set of data, such as an image, resulting in a uniform level of compression artifacts.

Alternatively, the data may [[Digital compositing|consist of parts]] with different levels of compression artifacts. This difference may arise from the different parts having been repeatedly subjected to the same lossy compression a different number of times, or the different parts having been subjected to different kinds of lossy compression. A difference in the level of compression artifacts in different parts of the data may therefore indicate that the data has been edited.

In the case of JPEG, even a composite with parts subjected to matching compressions will have a difference in the compression artifacts.<ref name=WangDonTan>{{cite conference
| url        = https://books.google.com/books?id=PdACLr5Tf3gC&q=%22Error+Level+Analysis%22&pg=PA125
| title      = Tampered Region Localization of Digital Color Images
| last1      = Wang
| first1     = W.
| last2      = Dong
| first2     = J.
| last3      = Tan
| first3     = T.  
| date       = October 2010
| publisher  = [[Springer Science+Business Media|Springer]]
| book-title = Digital Watermarking: 9th International Workshop, IWDW 2010
| pages      = 120â€“133
| location   = Seoul, Korea
| isbn = 9783642184048
| quote = We are hardly able to tell the tampered region from the unchanged one sometimes just by human visual perception of JPEG compression noise}}</ref>

In order to make the typically faint compression artifacts more readily visible, the data to be analyzed is subjected to an additional round of lossy compression, this time at a known, uniform level, and the result is subtracted from the original data under investigation. The resulting difference image is then inspected manually for any variation in the level of compression artifacts. In 2007, N. Krawetz denoted this method "error level analysis".<ref name=WangDonTan/>

Additionally, digital data formats such as JPEG sometimes include [[metadata]] describing the specific lossy compression used. If in such data the observed compression artifacts differ from those expected from the given metadata description, then the metadata may not describe the actual compressed data, and thus indicate that the data have been edited.

<div align="center"><gallery>
File:Felis silvestris silvestris small gradual decrease of quality.png|A composite image, where the different parts have different JPEG compression levels
File:Felis silvestris silvestris small gradual decrease of quality - JPEG compression.jpg|The same image with a uniform 90% quality JPEG compression
File:Felis silvestris silvestris small gradual decrease of quality - difference image.png|The difference between the two images shows a variation of the JPEG compression artifacts
</gallery></div>

== Limitations ==

By its nature, data without [[lossy compression]], such as a [[Portable Network Graphics|PNG image]], cannot be subjected to error level analysis. Consequently, since editing could have been performed on data without lossy compression with lossy compression applied uniformly to the edited, composite data, the presence of a uniform level of compression artifacts does not rule out editing of the data.

Additionally, any non-uniform compression artifacts in a composite may be removed by subjecting the composite to repeated, uniform lossy compression.<ref>{{cite web|url= http://fotoforensics.com/tutorial-ela.php |website= fotoforensics.com |title= FotoForensics |accessdate= 2015-09-20 |quote= If an image is resaved multiple times, then it may be entirely at a minimum error level, where more resaves do not alter the image. In this case, the ELA will return a black image and no modifications can be identified using this algorithm}}</ref> Also, if the image color space is reduced to 256 colors or less, for example, by conversion to [[GIF]], then error level analysis will generate useless results.<ref>{{cite web|url= http://fotoforensics.com/faq.php#What%20can%20I%20upload%20for%20analysis |title= FotoForensics - FAQ |website= fotoforensics.com |accessdate= 2015-09-20}}</ref>

More significant, the actual interpretation of the level of compression artifacts in a given segment of the data is subjective, and the determination of whether editing has occurred is therefore not robust.<ref name=WangDonTan/>

<div align="center"><gallery>
File:The commissar vanishes - difference image.png|As such, the JPEG compression artifacts whether deemed uniform or not are unrelated to the [[Censorship of images in the Soviet Union|Soviet-era photo manipulation]]
</gallery></div>

== Controversy ==

In May 2013, Dr [[Neal Krawetz]] used error level analysis on the 2012 [[World Press Photo of the Year]] and concluded on his ''Hacker Factor'' blog that it was "a composite" with modifications that "fail to adhere to the acceptable journalism standards used by [[Reuters]], [[Associated Press]], [[Getty Images]], [[National Press Photographer's Association]], and other media outlets". The [[World Press Photo]] organizers responded by letting two independent experts analyze the image files of the winning photographer and subsequently confirmed the integrity of the files. One of the experts, 
[[Hany Farid]], said about error level analysis that "It incorrectly labels altered images as original and incorrectly labels original images as altered with the same likelihood". Krawetz responded by clarifying that "It is up to the user to interpret the results. Any errors in identification rest solely on the viewer".<ref>{{cite magazine|url= https://www.wired.co.uk/news/archive/2013-05/16/photo-faking-controversy |title= 'Fake' World Press Photo isn't fake, is lesson in need for forensic restraint |first= Ian |last= Steadman |magazine= [[Wired UK]] |date= 2013-05-16 |accessdate= 2015-09-11}}</ref>

In May 2015, the [[citizen journalism]] team [[Bellingcat]] wrote that error level analysis revealed that the [[Russian Ministry of Defense]] had edited satellite images related to the [[Malaysia Airlines Flight 17]] disaster.<ref>{{cite web|url= https://www.bellingcat.com/news/uk-and-europe/2015/05/31/mh17-forensic-analysis-of-satellite-images-released-by-the-russian-ministry-of-defence/ |website= bellingcat.com |title= bellingcat - MH17 - Forensic Analysis of Satellite Images Released by the Russian Ministry of Defence |date= 2015-05-31 |accessdate= 2015-09-29 |quote= Error level analysis of the images also reveal the images have been edited}}</ref> In a reaction to this, image forensics expert [[Jens Kriese]] said about error level analysis: "The method is subjective and not based entirely on science", and that it is "a method used by hobbyists".<ref>{{cite news|url= http://www.spiegel.de/international/world/expert-criticizes-allegations-of-russian-mh17-manipulation-a-1037125.html |work= [[Spiegel Online]] |first= Benjamin |last= Bidder |title= 'Bellingcat Report Doesn't Prove Anything': Expert Criticizes Allegations of Russian MH17 Manipulation |date= 2015-06-04 |accessdate= 2015-07-23}}</ref> On his Hacker Factor Blog, the inventor of error level analysis Neal Krawetz criticized both Bellingcat's use of error level analysis as "misinterpreting the results" but also on several points Jens Kriese's "ignorance" regarding error level analysis.<ref>{{cite web|url= https://www.hackerfactor.com/blog/index.php?/archives/676-Continuing-Education.html |title= Continuing Education - The Hacker Factor Blog |website= hackerfactor.com |date= 2015-06-08 | accessdate= 2024-01-13}}</ref>

== See also ==
* [[Image analysis]]

== References ==
{{reflist}}
* {{cite web|url= http://fotoforensic.com/tutorial-ela.php |website= fotoforensic.com |title= Tutorial: Error Level Analysis |accessdate= 2015-07-23}}

== External links ==
* [http://www.errorlevelanalysis.com/ Image Forensics : Error Level Analysis]
* [http://fotoforensic.com/ FotoForensics]

[[Category:Data analysis]]
[[Category:Data compression]]
[[Category:Computer vision]]